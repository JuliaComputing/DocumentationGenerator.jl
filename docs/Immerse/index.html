<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Immerse.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Immerse.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Home</a><ul class="internal"></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Home</a></li></ul></nav><hr/><div id="topbar"><span>Home</span><a class="fa fa-bars" href="#"></a></div></header><p>Package doesn&#39;t contain Documenter docs.</p><p>Docs automatically generated by juliadocs.org</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Immerse.Figure-Tuple{Int64}" href="#Immerse.Figure-Tuple{Int64}"><code>Immerse.Figure</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p><code>Figure(3)</code> gets the underlying Figure object associated with figure #3. This can be useful if you need to layer on extra drawing on top of what Gadfly produces.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Immerse.closeall-Tuple{}" href="#Immerse.closeall-Tuple{}"><code>Immerse.closeall</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p><code>closeall()</code> closes all existing figure windows.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Immerse.closefig-Tuple{}" href="#Immerse.closefig-Tuple{}"><code>Immerse.closefig</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p><code>closefig(n)</code> closes the <code>n</code>th figure window.</p><p><code>closefig()</code> closes the current figure window.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Immerse.figure-Tuple{}" href="#Immerse.figure-Tuple{}"><code>Immerse.figure</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p><code>figure(;name=&quot;Figure $n&quot;, width=400, height=400)</code> creates a new figure window for displaying plots.</p><p><code>figure(n)</code> raises the <code>n</code>th figure window and makes it the current default plotting window, and returns the</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Immerse.gcf-Tuple{}" href="#Immerse.gcf-Tuple{}"><code>Immerse.gcf</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p><code>gcf()</code> (&quot;get current figure&quot;) returns the current figure number</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Immerse.hit" href="#Immerse.hit"><code>Immerse.hit</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>hit((fig,tag), cb)</code> turns on hit-testing for the plot element tagged with <code>tag</code> in figure <code>fig</code>. When the user clicks on the element, the callback function <code>cb</code> will be executed.</p><p>The callback should have the form</p><pre><code class="language-jl">    function my_callback(figtag, index, event, distance)
        if distance &lt; 2
            # We clicked close enough to the object to &quot;count&quot;
            # implement the action here
        end
    end</code></pre><p><code>figtag = (figno,tag)</code> identifies the figure and object, and <code>index</code> represents the specific item clicked on.  <code>index</code> might be a single <code>Int</code> (e.g., the 37th point in the plot), or for compound objects might be a more complex object.  <code>event</code> contains Gtk&#39;s information about the click event; this records the <code>x,y</code> position as well as any modifier keys.  <code>distance</code> measures how much the user &quot;missed&quot; the object, and is measured in screen-pixels.</p><p>Here are a couple of examples:</p><pre><code class="language-jl">    fig = display(plot(x=1:10,y=rand(10),Geom.point(tag=:dots)))
    hit((fig,:dots), (figtag, index, xy, dist) -&gt; if dist &lt; 1 println(&quot;You clicked on dot &quot;, index) end)</code></pre><p>In this case, <code>index</code> will be an <code>Int</code>.</p><pre><code class="language-jl">    x = rand(6)
    y = rand(6)
    label = [1,1,1,1,2,2]
    df = DataFrame(Any[x,y,label], [:x,:y,:label])
    fig = display(plot(df, x=:x, y=:y, color=:label, Geom.line(tag=:lines)))

    hit((fig,:lines), (figtag, index, xy, dist) -&gt; begin
        if dist &lt; 2
            println(&quot;You clicked on line &quot;, index[1], &quot; in segment &quot;, index[2], &quot; at $(round(Int,100*index[3]))% along the segment&quot;)
        end
    end)</code></pre><p>By default, <code>hit</code> uses mouse button 1; you can customize the action with <code>hit(figtag, cb, action)</code> where the default is <code>action = :button1press</code>.  The choices correspond to the fields in Gtk&#39;s <code>MouseHandler</code>.</p><p>You can suspend hit-testing for an object with <code>hit((fig,:tag), false)</code> and re-enable it with <code>hit((fig,:tag), true)</code>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Immerse.lasso_initialize" href="#Immerse.lasso_initialize"><code>Immerse.lasso_initialize</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>lasso_initialize(figno, cb)</code> sets the callback <code>cb</code> to run when the user has selected points with the lasso.  When you have only one &quot;object&quot; (Geom) in your plot, your callback can be of the form</p><pre><code class="language-none">    function my_simple_lasso_callback(figno, selections)
        println(&quot;You selected points &quot;, first(values(selections)))
    end</code></pre><p>For a <code>Geom.point</code> object, this would print a vector of integers corresponding to the selected points.</p><p>More generally, the callback should have the syntax</p><pre><code class="language-none">    function my_lasso_callback(figno, selections)
        for (form, indexes) in selections
            if form.tag == :mydots
                println(&quot;In figure $figno, from :mydots you selected &quot;, indexes)
            end
        end
    end</code></pre><p><code>selections</code> is a <code>Dict</code> of <code>form=&gt;indexes</code> pairs.  <code>form</code> is a <code>Compose.Form</code>, the raw objects rendered by Gadfly; you may especially want to query its <code>tag</code> to determine its identity (assuming you&#39;ve assigned a tag).  <code>indexes</code> is a vector describing the items selected; for <code>Circle</code> forms, each element will be an <code>Int</code>, whereas for <code>Line</code> Forms (which can hold multiple lines, perhaps drawn in different colors) each element will be an <code>Tuple{Int,Int}</code> describing the line number and vertex number.</p><p>To assign a tag to a Gadfly object, add the <code>tag</code> keyword argument to the geometry, e.g. <code>Geom.point(tag = :mydots)</code>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Immerse.scf-Tuple{}" href="#Immerse.scf-Tuple{}"><code>Immerse.scf</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p><code>scf()</code> (&quot;show current figure&quot;) raises (makes visible) the current figure</p></div></div></section><footer><hr/></footer></article></body></html>
